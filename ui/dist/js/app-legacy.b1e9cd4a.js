(function(e){function r(r){for(var n,s,i=r[0],l=r[1],c=r[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(r);while(d.length)d.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],n=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(n=!1)}n&&(a.splice(r--,1),e=s(s.s=t[0]))}return e}var n={},o={app:0},a=[];function s(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,r,t){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)s.d(t,n,function(r){return e[r]}.bind(null,n));return t},s.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(r,"a",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=r,i=i.slice();for(var c=0;c<i.length;c++)r(i[c]);var u=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"56d7":function(e,r,t){"use strict";t.r(r);t("e260"),t("e6cf"),t("cca6"),t("a79d");var n=t("2b0e"),o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app"},[e.error?t("div",{staticClass:"error"},[e._v("Error: "+e._s(e.error))]):e._e(),e._l(e.computedCategories,(function(r,n){return t("div",{key:n,staticClass:"category"},[t("div",{staticClass:"category-name"},[e._v(e._s(r.category))]),t("div",{staticClass:"hosts"},e._l(r.hosts,(function(r,n){return t("div",{key:n,staticClass:"host",style:e._f("color")(r)},[t("div",{staticClass:"host-name"},[e._v(e._s(r.host))]),t("div",{directives:[{name:"show",rawName:"v-show",value:0===r.ips.length&&null==r.error,expression:"host.ips.length === 0 && host.error == null"}],staticClass:"loading"}),t("div",{staticClass:"ips"},e._l(r.ips,(function(r,n){return t("div",{key:n,staticClass:"ip"},[t("div",{staticClass:"ip-ip"},[e._v(e._s(r.ip)+" "),t("div",{directives:[{name:"show",rawName:"v-show",value:null==r.latency,expression:"ip.latency == null"}],staticClass:"loading"}),t("div",{directives:[{name:"show",rawName:"v-show",value:null!=r.latency&&null==r.error,expression:"ip.latency != null && ip.error == null"}],staticClass:"ip-latency"},[e._v(e._s(r.latency/1e3)+"ms")]),null!=r.error?t("div",{staticClass:"ip-error"},[e._v("No Response")]):e._e()])])})),0),r.error?t("div",{staticClass:"host-error"},[e._v(e._s(r.error))]):e._e()])})),0),n!==e.categories.length-1?t("hr"):e._e()])}))],2)},a=[],s=t("3835"),i=t("1da1"),l=t("b85c"),c=(t("96cf"),t("4e82"),t("99af"),t("4de4"),t("d3b7"),t("e9c4"),t("ddb0"),t("ac1f"),t("1276"),{data:function(){return{categories:[],hostsIdx:{},ipIdx:{},error:null}},computed:{errors:function(){var e,r=[],t=Object(l["a"])(this.categories);try{for(t.s();!(e=t.n()).done;){var n,o=e.value,a=Object(l["a"])(o.hosts);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(null==s.error){var i,c=Object(l["a"])(s.ips);try{for(c.s();!(i=c.n()).done;){var u=i.value;null==u.error||r.push(s)}}catch(f){c.e(f)}finally{c.f()}}else r.push(s)}}catch(f){a.e(f)}finally{a.f()}}}catch(f){t.e(f)}finally{t.f()}return r.sort((function(e,r){return e.host.localeCompare(r.host)})),{category:"Errors",hosts:r}},computedCategories:function(){var e=this.errors;return 0===e.hosts.length?this.categories:[e].concat(this.categories)}},filters:{color:function(e){var r=e.ips.filter((function(e){return null==e.latency})).length;if(null==e.error&&0===e.ips.length||r>0)return{backgroundColor:"#c9daf8"};var t=e.ips.filter((function(e){return null!=e.error})).length;return null!=e.error||e.ips.length===t?{backgroundColor:"#f4cccc"}:t>0?{backgroundColor:"#fce5cd"}:{backgroundColor:"#b7e1cd"}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("token");case 3:return r.next=5,r.sent.text();case 5:t=r.sent,r.next=13;break;case 8:return r.prev=8,r.t0=r["catch"](0),e.error=JSON.stringify(r.t0),console.error({msg:"token error:",error:r.t0}),r.abrupt("return");case 13:n=new WebSocket("ws://localhost/ws"),n.addEventListener("error",(function(r){e.error=JSON.stringify(r),console.error({msg:"websocket error:",error:r})})),n.addEventListener("open",(function(){n.send(JSON.stringify({token:t}))})),n.addEventListener("message",(function(r){var t=JSON.parse(r.data);switch(t.t){case"s":var n,o=Object(l["a"])(t.s);try{for(o.s();!(n=o.n()).done;){var a=n.value,i={category:a.category,hosts:[]};e.categories.push(i);var c,u=Object(l["a"])(a.hosts);try{for(u.s();!(c=u.n()).done;){var f=c.value,d={host:f,ips:[],error:null};i.hosts.push(d),f in e.hostsIdx?e.hostsIdx[f].push(d):e.hostsIdx[f]=[d]}}catch($){u.e($)}finally{u.f()}}}catch($){o.e($)}finally{o.f()}break;case"r":if(null!=t.i){var p,v=Object(l["a"])(t.i);try{for(v.s();!(p=v.n()).done;){var h=p.value,y=void 0;if(h in e.ipIdx)y=e.ipIdx[h];else{var b,g=0,x=Object(l["a"])(h.split(".").entries());try{for(x.s();!(b=x.n()).done;){var O=Object(s["a"])(b.value,2),_=O[0],w=O[1];g+=w<<3-_}}catch($){x.e($)}finally{x.f()}y={ip:h,latency:null,sortVal:g,error:null},e.ipIdx[h]=y}var m,j=Object(l["a"])(e.hostsIdx[t.h]);try{for(j.s();!(m=j.n()).done;){var C=m.value;C.ips.push(y)}}catch($){j.e($)}finally{j.f()}}}catch($){v.e($)}finally{v.f()}var k,I=Object(l["a"])(e.hostsIdx[t.h]);try{for(I.s();!(k=I.n()).done;){var S=k.value;S.ips.sort((function(e,r){return e.sortVal-r.sortVal}))}}catch($){I.e($)}finally{I.f()}}else if(null!=t.e){var N,P=Object(l["a"])(e.hostsIdx[t.h]);try{for(P.s();!(N=P.n()).done;){var E=N.value;E.error=t.e}}catch($){P.e($)}finally{P.f()}}break;case"p":if(!(t.i in e.ipIdx)){var J,M=0,V=Object(l["a"])(t.i.split(".").entries());try{for(V.s();!(J=V.n()).done;){var L=Object(s["a"])(J.value,2),R=L[0],T=L[1];M+=T<<3-R}}catch($){V.e($)}finally{V.f()}return void(e.ipIdx[t.i]={ip:t.i,latency:t.l,sortVal:M,error:t.e})}e.ipIdx[t.i].latency=t.l,e.ipIdx[t.i].error=t.e;break;case"c":null!=t.e&&(e.error=t.e)}}));case 17:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}),u=c,f=(t("cf25"),t("2877")),d=Object(f["a"])(u,o,a,!1,null,null,null),p=d.exports;new n["a"]({render:function(e){return e(p)}}).$mount("#app")},cf25:function(e,r,t){"use strict";t("fea6")},fea6:function(e,r,t){}});
//# sourceMappingURL=app-legacy.b1e9cd4a.js.map